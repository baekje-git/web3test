import{Q as d}from"./QTd.f5874d06.js";import{Q as I}from"./QTr.7b243c81.js";import{Q}from"./QTable.6cb95625.js";import{a as D,g as M,i as B,r as n,c as h,o as P,b as k,d as s,w as e,Q as L,b9 as O,e as a,t as u,E as b,j as q,m as H,n as C,b8 as V,p as K,q as R}from"./index.23979a80.js";import{a as U}from"./BtnComp_default.472dd05c.js";const p=_=>(K("data-v-15f10212"),_=_(),R(),_),W={class:"DialogComp_wrap"},j={class:"q-table_wrap"},X={class:"q-table_header_wrap flex_between",style:{"margin-bottom":"8px"}},Y={class:"q-table_header_title flex_center"},$=p(()=>a("p",null,"\uC81C\uD488 \uCD9C\uACE0 \uC774\uB825",-1)),z={class:"q-table_header_accumulate"},F={style:{"font-weight":"400"}},G=p(()=>a("div",{class:"q-table_header_title_sub"},[a("div",{class:"q-table_header_btnOption"},[a("div",{class:"Btn_options_wrap"})])],-1)),J=p(()=>a("span",null,"\uAC80\uC0C9\uB41C \uACB0\uACFC\uAC00 \uC5C6\uC2B5\uB2C8\uB2E4.",-1)),Z={__name:"HistoryPopup",props:{isOpen:{type:Boolean}},emits:["close"],setup(_,{emit:T}){const y=T,g=M(),w=B("bus"),r=n([]);n(""),h(()=>r.value.length>0);const m=n(!1),i=n(!1),N=_,v=h(()=>N.isOpen),c=n({custCd:"",selItemCd:"",sellMonth:"-36"}),o=n({SALE_CNT:0,BACK_CNT:0});async function A(){const t=await C.get("/ord/accShpmntQty",{params:c.value});o.value.SALE_CNT=t.SALE_CNT,o.value.BACK_CNT=t.BACK_CNT,m.value=!1}async function E(){m.value=!0;const t=await C.get("/ord/history",{params:c.value});i.value=!0,r.value=t,await A()}async function S(){y("close"),i.value=!1,r.value=[],o.value.BACK_CNT=0,o.value.SALE_CNT=0}w.on("basketHistory",async t=>{c.value.custCd=g.CUST_CD,c.value.selItemCd=t.ITEM_CD,await E()});const x=[{name:"ITEM_NM",label:"\uD488\uBAA9 \uBC0F \uADDC\uACA9",field:"ITEM_NM",align:"left",sortable:!0},{name:"ORD_DT",label:"\uC8FC\uBB38\uC77C\uC790",field:"ORD_DT",align:"center"},{name:"WP2_AMT",label:"\uB2E8\uAC00",field:"WP2_AMT",align:"center",format:t=>V(t)},{name:"ITEM_QTY",label:"\uC8FC\uBB38\uC218\uB7C9",field:"ITEM_QTY",align:"center"},{name:"SERIAL_NO",label:"\uC81C\uC870\uBC88\uD638",field:"SERIAL_NO",align:"center"},{name:"EXP_DT",label:"\uC720\uD6A8\uAE30\uAC04",field:"EXP_DT",align:"center"}];return(t,f)=>(P(),k("div",W,[s(H,{modelValue:v.value,"onUpdate:modelValue":f[0]||(f[0]=l=>v.value=l),persistent:""},{default:e(()=>[s(L,null,{default:e(()=>[s(Q,{class:"orderTable_3a",rows:r.value,columns:x,"row-key":"name","table-header-class":"table_header",dense:"","hide-bottom":"","virtual-scroll":"","rows-per-page-options":[0],"virtual-scroll-sticky-size-start":0,style:{padding:"10px",width:"1000px",height:"600px"}},O({top:e(()=>[a("div",j,[a("div",X,[a("div",Y,[$,a("div",z,[a("p",F,u(`\uB204\uC801 \uCD9C\uD558 \uC218\uB7C9 : \uB9E4\uCD9C ${o.value.SALE_CNT} / \uBC18\uD488 ${o.value.BACK_CNT}`),1)])]),G])])]),"body-cell-ITEM_NM":e(l=>[s(d,{props:l,style:{"font-weight":"bold"}},{default:e(()=>[b(u(l.value),1)]),_:2},1032,["props"])]),"body-cell-WP2_AMT":e(l=>[s(d,{props:l,style:{"text-align":"right"}},{default:e(()=>[b(u(l.value),1)]),_:2},1032,["props"])]),_:2},[r.value.length===0&&i.value?{name:"top-row",fn:e(()=>[s(I,{class:"no-date"},{default:e(()=>[s(d,{colspan:"100%"},{default:e(()=>[J]),_:1})]),_:1})]),key:"0"}:void 0]),1032,["rows"]),s(q,{class:"flex_end"},{default:e(()=>[s(U,{"btn-label":"\uB2EB\uAE30",onClick:S})]),_:1})]),_:1})]),_:1},8,["modelValue"])]))}};var oe=D(Z,[["__scopeId","data-v-15f10212"]]);export{oe as H};
