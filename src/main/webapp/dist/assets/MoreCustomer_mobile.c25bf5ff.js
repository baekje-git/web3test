import{C as k}from"./ClientComp_mobile.bb536192.js";import{Q as d}from"./QTd.f5874d06.js";import{Q as B}from"./QTr.7b243c81.js";import{Q as U}from"./QInnerLoading.c1351644.js";import{Q as x}from"./QTable.6cb95625.js";import{a as Q,r as s,g as R,y as m,v as $,o as w,b as S,e as l,d as a,w as i,t as r,M as F,G as I,bD as P,E as c,b8 as v,bk as G,bT as z,n as V}from"./index.23979a80.js";import{_ as H,a as M,b as O}from"./InputComp_mobile.cfb9331b.js";import{_ as j}from"./BtnFilterComp_mobile.54f48a6e.js";import"./QBtnGroup.7d857027.js";import{_ as q}from"./FilterSingleComp_mobile_a.0827aba5.js";import{_ as J}from"./DatePickerMonthComp_mobile.bcfa2648.js";import"./QSelect.9a093b8d.js";import"./rtl.b4426d33.js";import"./use-fullscreen.abf1e48c.js";import"./ClosePopup.e0febf44.js";import"./QBadge.ac360c50.js";import"./QPopupProxy.963e0526.js";const K={class:""},W={class:"table_Top_wrap"},X={class:"table_Title_mobile"},Z={class:"filter_area"},ee={class:""},le={class:"table_header_wrap"},te={class:"table_header_item"},ae={class:"table_header_item"},oe={class:"table_header_item"},se={class:"table_wrap"},ie={class:"table_item"},re={class:"table_item"},ne={class:"table_item"},_e={__name:"MoreCustomerTable_mobile",props:{TableTitle:{type:String,default:"TableTitle"}},setup(C){const T=s("on"),n=s(!1),b=s(!1),g=s(!1),h=R(),o=s({befYm:m().add(-1,"month").format("YYYYMM"),curYm:m().format("YYYYMM"),custNm:"",brchCd:h.BRCH_CD,deptCd:h.LOGIN_DEPT_CD,dateCurYm:m().format("YYYYMM"),sortType:"C"}),p=s(!1),A=s(!0),Y=s([]),N=s([{name:"CUST_NM",label:"\uAC70\uB798\uCC98\uBA85",align:"center"},{name:"BEF_SALE_2",label:"\uC804\uC6D4\uB9E4\uCD9C",align:"right"},{name:"CUR_SALE_2",label:"\uAE08\uC6D4\uB9E4\uCD9C",align:"right"},{name:"TRN_LIM_AMT",label:"\uC5EC\uC2E0\uD55C\uB3C4\uC561",align:"right"},{name:"CUR_BALANCE_A_AMT",label:"\uAE08\uC6D4\uC794\uACE0",align:"right"}]),u=s("\uAC70\uB798\uCC98\uC21C"),E=[{title:"\uC815\uB82C \uC21C\uC11C",subtitle:"",gridStyle:3,btnDatePicker:"off",buttons:[{btnLabel:"\uAC70\uB798\uCC98\uC21C"},{btnLabel:"\uC804\uC6D4\uB9E4\uCD9C\uC21C"},{btnLabel:"\uAE08\uC6D4\uB9E4\uCD9C\uC21C"}]}],L=_=>{u.value=_},y=s("\uAC70\uB798\uCC98\uC21C"),D=()=>{p.value=!1,u.value==="\uAC70\uB798\uCC98\uC21C"?o.value.sortType="C":u.value==="\uC804\uC6D4\uB9E4\uCD9C\uC21C"?o.value.sortType="BS":u.value==="\uAE08\uC6D4\uB9E4\uCD9C\uC21C"&&(o.value.sortType="CS"),y.value=u.value,g.value=!0,f()},f=()=>(n.value=!0,G(o.value.dateCurYm)?(z("\uB0A0\uC9DC\uB97C \uC120\uD0DD\uD574 \uC8FC\uC138\uC694."),!1):(o.value.befYm=m(o.value.dateCurYm).add(-1,"month").format("YYYYMM"),o.value.curYm=m(o.value.dateCurYm).format("YYYYMM"),V.get("/ordLedger/rptnSalesCustomSalesNorList",{params:o.value}).then(_=>{b.value=!0,Y.value=_.filter(t=>t.DEPT_CD==="").concat(_.filter(t=>t.DEPT_CD!==""&&t.CUST_NM!=="")).concat(_.filter(t=>t.DEPT_CD!==""&&t.CUST_NM===""))}).finally(()=>{n.value=!1})));return $(async()=>{setTimeout(()=>{n.value=!1,b.value=!0},3e3),await f()}),(_,t)=>(w(),S("div",null,[l("div",K,[a(x,{class:"","row-key":"CUST_CD",rows:Y.value,columns:N.value,flat:"","hide-bottom":"","rows-per-page-options":[0],"virtual-scroll-sticky-size-start":0,loading:n.value,style:{"padding-bottom":"30px"}},{top:i(()=>[l("div",W,[l("div",X,[l("span",null,r(C.TableTitle),1)]),l("div",Z,[a(J,{style:{width:"136px !important"},input_model_props:o.value.dateCurYm,"onUpdate:input_model_props":t[0]||(t[0]=e=>o.value.dateCurYm=e),onEnter:f},null,8,["input_model_props"]),a(H,{placeholder:"\uAC70\uB798\uCC98\uBA85",style:{width:"34%"},input_model_props:o.value.custNm,"onUpdate:input_model_props":t[1]||(t[1]=e=>o.value.custNm=e)},null,8,["input_model_props"]),a(M,{buttonText:"\uAC80\uC0C9",btnStyle:"default",class:"btn_srch",onClick:f}),l("div",{class:"table_Filter",onClick:t[4]||(t[4]=e=>p.value=!0)},[a(j,{filterCheck:g.value},null,8,["filterCheck"]),a(O,{dialog_title:"\uAC80\uC0C9 \uD544\uD130",dialog_model_prop:p.value,"onUpdate:dialog_model_prop":t[3]||(t[3]=e=>p.value=e),dialog_full:A.value},{default:i(()=>[l("div",ee,[a(q,{btnGroups:E,isActiveBtn:y.value,onSelectedSingleBtn:t[2]||(t[2]=e=>L(e))},null,8,["isActiveBtn"]),a(M,{class:F([T.value,"btn-full"]),buttonText:"\uC801\uC6A9",btnStyle:"default",btnSize:"lg",style:{"padding-top":"20px"},onClick:D},null,8,["class"])])]),_:1},8,["dialog_model_prop","dialog_full"])])])])]),header:i(e=>[l("div",le,[l("div",te,[l("p",null,r(e.cols[0].label),1)]),l("div",ae,[l("p",null,r(e.cols[1].label),1),l("p",null,r(e.cols[2].label),1)]),l("div",oe,[l("p",null,r(e.cols[3].label),1),l("p",null,r(e.cols[4].label),1)])])]),body:i(e=>[I(a(B,null,{default:i(()=>[l("div",se,[l("div",ie,[a(d,null,{default:i(()=>[c(r(e.row.CUST_NM),1)]),_:2},1024)]),l("div",re,[a(d,null,{default:i(()=>[c(r(v(e.row.BEF_SALE_2)),1)]),_:2},1024),a(d,null,{default:i(()=>[c(r(v(e.row.CUR_SALE_2)),1)]),_:2},1024)]),l("div",ne,[a(d,null,{default:i(()=>[c(r(v(e.row.TRN_LIM_AMT)),1)]),_:2},1024),a(d,null,{default:i(()=>[c(r(v(e.row.CUR_BALANCE_A_AMT)),1)]),_:2},1024)])])]),_:2},1536),[[P,b.value]])]),loading:i(()=>[a(U,{class:"loading",showing:n.value,color:"primary"},null,8,["showing"])]),_:1},8,["rows","columns","loading"])])]))}};var ue=Q(_e,[["__scopeId","data-v-3a8d1496"]]);const Ne={__name:"MoreCustomer_mobile",setup(C){return(T,n)=>(w(),S("div",null,[a(k),a(ue,{TableTitle:"\uAC70\uB798\uCC98\uBCC4 \uC601\uC5C5\uD604\uD669"})]))}};export{Ne as default};
